"use strict";if($(".main-body .page-wrapper").find("#attribute_group-add-container").length||$(".main-body .page-wrapper").find("#attribute_group-edit-container").length||$(".main-body .page-wrapper").find("#attribute-add-container").length||$(".main-body .page-wrapper").find("#attribute-edit-container").length){var type;$(".select2").select2(),type=$("#type :selected").val(),typeCheck();var rowid=2;function tabValidation(){if($("#name").val().length>0&&$("#attribute_group").val().length>0){let t=$("input[name='row_identify[]']").map(function(){return $(this).val()}).get(),e=parseInt(t.length);for(let a=0;a<e;a++)$.each($("#valueChk-"+t[a]),function(){$(this).val().length<1&&($("#attribute").removeClass("show"),$("#attribute").removeClass("active"),$("#v-pills-home-tab").removeClass("active"),$("#v-pills-home-tab").removeAttr("aria-selected"),$("#v-pills-home-tab").attr("aria-selected","false"),$("#v-pills-profile-tab").removeAttr("aria-selected"),$("#v-pills-profile-tab").attr("aria-selected","true"),$("#v-pills-profile-tab").addClass("active"),$("#attributeValue").addClass("show"),$("#attributeValue").addClass("active"))})}}function customValidation(){let t=$("input[name='row_identify[]']").map(function(){return $(this).val()}).get(),e=1,a=parseInt(t.length),i=0;for(let n=0;n<a;n++){if($.each($("#valueChk-"+t[n]),function(){e=$(this).val()?1:0}),0==e){$("#valueChk-"+t[n]).addClass("err1"),$("#value-text-"+t[n]).text(jsLang("This field is required.")),i=1;break}$("#valueChk-"+t[n]).removeClass("err1"),$("#value-text-"+t[n]).text(""),i=0}return 0==i&&1==e}function typeCheck(){"field"==type?$("#secondli").hide():($("#secondli").show(),$("#attribute-value >tbody >tr").length<1&&addAttributeValue())}function addAttributeValue(){let t=`<tr draggable="false" class="" id="rowid-${rowid}">\n                                <td class="text-center">\n                                    <i class="fa fa-bars"></i>\n                                </td>\n                                <td>\n                                    <div class="form-group">\n                                        <input type="text" name="values[]" class="form-control errorChk" id="valueChk-${rowid}">\n                                        <span id="value-text-${rowid}" class="validationMsg"></span>\n                                        <input type="hidden" name="row_identify[]" value="${rowid}">\n                                    </div>\n                                </td>\n                                <td class="text-center">\n                                    <button type="button" class="btn btn-xs btn-danger delete-row" data-row-id="${rowid}" data-toggle="tooltip" data-title="Delete Value" data-original-title="" title="">\n                                        <i class="feather icon-trash-2"></i>\n                                    </button>\n                                </td>\n                            </tr>`;rowid++,$("#values").append(t)}$(".main-body .page-wrapper").find("#attribute-edit-container").length&&(rowid=$("#row_id").val()),$(document).on("change",".errorChk",function(t){if($(this).hasClass("err1")&&""!=$(this).val){$(this).removeClass("err1");let t=$(this).attr("id");$("#"+t).next("span").text("")}}),$(document).on("click","#btnSubmit",function(t){""!=$("#category_id").val()&&""!=$("#name").val()&&""!=$("#type").val()||($("#attribute").addClass("show"),$("#attribute").addClass("active"),$("#v-pills-home-tab").addClass("active"),$("#v-pills-home-tab").removeAttr("aria-selected"),$("#v-pills-home-tab").attr("aria-selected","false"),$("#v-pills-profile-tab").removeAttr("aria-selected"),$("#v-pills-profile-tab").attr("aria-selected","true"),$("#v-pills-profile-tab").removeClass("active"),$("#attributeValue").removeClass("show"),$("#attributeValue").removeClass("active"))}),($(".main-body .page-wrapper").find("#attribute-add-container").length||$(".main-body .page-wrapper").find("#attribute-edit-container").length)&&$("#values").sortable({distance:5,delay:300,opacity:.6,cursor:"move"}),$("#attributeForm").on("submit",function(t){"field"!=type?(tabValidation(),0==customValidation()?t.preventDefault():($("#spinnerText").text(jsLang("Please wait...")),$(".spinner").css({display:"inline-block","line-height":"0"}),$("#btnSubmit").attr("disabled",!0))):($("#spinnerText").text(jsLang("Please wait...")),$(".spinner").css({display:"inline-block","line-height":"0"}),$("#btnSubmit").attr("disabled",!0))}),$("#attributeGroupAdd").on("submit",function(t){$("#spinnerText").text(jsLang("Please wait...")),$(".spinner").css({display:"inline-block","line-height":"0"}),$("#btnSubmit").attr("disabled",!0)}),$("#type").change(function(){type=$("#type :selected").val(),typeCheck()}),$(document).on("click","#add-new-value",function(t){t.preventDefault(),addAttributeValue()}),$(document).on("click",".delete-row",function(t){t.preventDefault();var e=$(this).attr("data-row-id");$("#rowid-"+e).remove()})}$(".main-body .page-wrapper").find("#attribute-list-container").length&&($(document).on("click","#csv, #pdf",function(t){t.preventDefault(),window.location=SITE_URL+"/attributes/"+this.id}),$(".select2").select2()),$(".main-body .page-wrapper").find("#attribute_group-list-container").length&&($(document).on("click","#csv, #pdf",function(t){t.preventDefault(),window.location=SITE_URL+"/attribute-groups/"+this.id}),$(".select2").select2());
